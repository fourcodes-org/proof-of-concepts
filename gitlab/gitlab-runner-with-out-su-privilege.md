If want to configure the GitLab Runner service without needing superuser (SU) privileges. Here's a step-by-step guide based on the instructions you provided:

1. Follow the provided reference to install GitLab Runner from the official GitLab repositories.
2. Upon execution, GitLab Runner will function as a GitLab service under systemd. It's noteworthy that this operation does necessitate the use of the 'su' command during job execution in pipeline runs.
3. The default script generated by the GitLab service seamlessly facilitates service execution with SU privileges.
4. By adhering to these steps, one can efficiently configure the systemd service while bypassing the need for SU privileges. By default, the GitLab Runner script creates the gitlab-runner user. Thus, it is imperative to utilize the same user. However, if an alternative user is preferred, it is permissible to create one and appropriately substitute it within the script.


1. **Disable execution privileges for the su binary**: This step ensures that the su command cannot be executed, thereby preventing the GitLab Runner script from using SU privileges.
   ```bash
   sudo chmod -x /usr/bin/su
   ```

2. **Ensure execution privileges for the su command are revoked**: Verify that the su command indeed doesn't have execution privileges.
   ```bash
   sudo ls -la /usr/bin/su
   ```

3. **Update ownership of GitLab Runner configuration files**: This ensures that the GitLab Runner user owns its configuration files.
   ```bash
   sudo chown -R gitlab-runner:gitlab-runner /etc/gitlab-runner/
   ```

4. **Adjust ownership of GitLab Runner home directory**: Similarly, update ownership of the GitLab Runner home directory.
   ```bash
   sudo chown -R gitlab-runner:gitlab-runner /home/gitlab-runner/
   ```

5. **Reload systemd manager configuration**: This step ensures that systemd recognizes the changes made to the GitLab Runner configuration.
   ```bash
   sudo systemctl daemon-reload
   ```

6. **Restart GitLab Runner service to apply changes**: Restart the GitLab Runner service to apply the ownership changes made.
   ```bash
   sudo systemctl restart gitlab-runner.service
   ```

7. **Check the GitLab Runner service**: Verify that the GitLab Runner service is running as expected.
   ```bash
   sudo systemctl status gitlab-runner.service
   ```

By following these steps, you should be able to configure the GitLab Runner service without needing superuser privileges. Remember to replace "gitlab-runner" with the appropriate username if you're using a different one.
